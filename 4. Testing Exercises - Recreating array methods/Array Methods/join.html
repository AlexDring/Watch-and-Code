<script src="../simpletest.js"></script>
<script>
  /**
  * The join() method creates and returns a new string by concatenating all of the elements in an array (or an array-like object), separated by commas or a specified separator string. If the array has only one item, then that item will be returned without using the separator.   
  * */

  // Examples:
  // const elements = ['Fire', 'Air', 'Water'];

  // console.log(elements.join());
  // // expected output: "Fire,Air,Water"

  // console.log(elements.join(''));
  // // expected output: "FireAirWater"

  // console.log(elements.join('-'));
  // // expected output: "Fire-Air-Water"

  /*
    // Function signature:
    // arr.join([separator])
    // will be recreated as:
    // function join(array,[separator])
  */

  /**
  * Parameters:
  * 
  // separator Optional - Specifies a string to separate each pair of adjacent elements of the array. The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma (","). If separator is an empty string, all elements are joined without any characters in between them.

  // Return Value:
  // A string with all array elements joined. If arr.length is 0, the empty string is returned.
  * */

  function join(array, optionalSeparator = ',') {
    // This converts array to string, replaces all instances (/g) of commas with specified optionalSeparator (, if not specified).
    var returnedString = array.toString().replace(/,/g, optionalSeparator);
    return returnedString;
  }

  tests({
    'It should create and return a new string': function () {
      var originalArray = [1, 2, 3];
      var returnedString = join(originalArray)
      eq(typeof returnedString, 'string')
    },
    'It should concatenate all of the elements in the originalArray, separated by commas.': function () {
      var originalArray = [1, 2, 3];
      var returnedString = join(originalArray)
      eq(returnedString, '1,2,3')
    },
    'If a separator string is provided, it should be used to separate the elements.': function () {
      var originalArray = [1, 2, 3];
      var returnedString = join(originalArray, ',-,')
      eq(returnedString, '1,-,2,-,3')
    },
    'If a separator string is omitted, the array elements should be separated by a comma.': function () {
      var originalArray = [1, 2, 3];
      var returnedString = join(originalArray)
      eq(returnedString, '1,2,3')
    },
    'If a separator is an empty string, all elements should be joined without any characters in between them.': function () {
      var originalArray = [1, 2, 3];
      var returnedString = join(originalArray, '')
      eq(returnedString, '123')
    },
    'If a separator is an empty string, all elements should be joined without any characters in between them.': function () {
      var originalArray = [1, 2, 3];
      var returnedString = join(originalArray, '')
      eq(returnedString, '123')
    },
    'It should return an empty string if array.length is 0.': function () {
      var originalArray = [];
      var returnedString = join(originalArray)
      eq(returnedString, '')
    },
    'If the array only has one item, it should be returned without using the separator.': function () {
      var originalArray = ['dog'];
      var returnedString = join(originalArray, '-')
      eq(returnedString, 'dog')
    },
    'If should join array-like objects.': function () {
      function f(a, b, c) {
        join(arguments);
      }
      var returnedString = f(1, 'a', true);
      eq(returnedString, '1,a,true')
    },
  });
</script>