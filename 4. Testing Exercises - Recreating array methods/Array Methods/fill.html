<script src="../simpletest.js"></script>
<script>
  /**
  * The fill() method changes all elements in an array to a static value, from a start index (default 0) to an end index (default array.length). It returns the modified array.
  * */

  // Examples:
  // const array1 = [1, 2, 3, 4];

  // // fill with 0 from position 2 until position 4
  // console.log(array1.fill(0, 2, 4));
  // // expected output: [1, 2, 0, 0]

  // // fill with 5 from position 1
  // console.log(array1.fill(5, 1));
  // // expected output: [1, 5, 5, 5]

  // console.log(array1.fill(6));
  // // expected output: [6, 6, 6, 6]


  /*
    // Function signature:
    // arr.fill(value[, start[, end]])
    // will be recreated as:
    // function fill(array, value[, start[, end]])
  */

  /* Parameters
  // // value - Value to fill the array with. (Note all elements in the array will be this exact value.)
  // // start Optional - Start index, default 0.
  // // end Optional - End index, default arr.length.
  // Return value - The modified array, filled with value.
  */

  function fill(array, value, optionalStart = 0, optionalEnd = array.length) {
    var length = array.length;

    if (optionalStart < 0) {
      optionalStart = length + optionalStart;
    }

    if (optionalEnd < 0) {
      optionalEnd = length + optionalEnd;
    }

    for (let i = optionalStart; i < optionalEnd; i++) {
      array[i] = value;
    }

    console.log(array)
    return array;

  }

  tests({
    'It should change elements in an array to the specified value.': function () {
      var array = [1, 2, 3];
      fill(array, 0)
      console.log()
      eq(array[0], 0)
      eq(array[1], 0)
      eq(array[2], 0)
    },
    'It should start at the optionalStart position if specified.': function () {
      var array = [1, 2, 3];
      fill(array, 0, 1)
      eq(array[0], 1)
      eq(array[1], 0)
      eq(array[2], 0)
    },
    'It should end at the optionalEnd position if specified.': function () {
      var array = [1, 2, 3, 5, 6];
      fill(array, 0, 1, 3)
      eq(array[0], 1)
      eq(array[1], 0)
      eq(array[2], 0)
      eq(array[3], 5)
      eq(array[4], 6)
    },
    'It should return a modified array.': function () {
      var array = [1, 2, 3, 5, 6];
      fill(array, 0, 1, 3)
      eq(array[0], 1)
      eq(array[1], 0)
      eq(array[2], 0)
      eq(array[3], 5)
      eq(array[4], 6)
    },
    'If optionalStart is negative, it should be treated as array.length + optionalStart.': function () {
      var array = [1, 2, 3, 5, 6];
      fill(array, 0, -3)
      eq(array[0], 1)
      eq(array[1], 2)
      eq(array[2], 0)
      eq(array[3], 0)
      eq(array[4], 0)
    },
    'If optionalEnd is negative, it should be treated as array.length + optionalEnd.': function () {
      var array = [1, 2, 3, 5, 6];
      fill(array, 0, 0, -3)
      eq(array[0], 0)
      eq(array[1], 0)
      eq(array[2], 3)
      eq(array[3], 5)
      eq(array[4], 6)
    },
    'if the first parameter is an object, each slot in the array should reference that object': function () {
      // A single object, referenced by each slot of the array:
      var array = [1, 2, 3];
      fill(array, {})
      array[0].hi = "hi"            // [{ hi: "hi" }, { hi: "hi" }, { hi: "hi" }]
      console.log(array)
      eq(array[0].hi, 'hi')
      eq(array[1].hi, 'hi')
      eq(array[2].hi, 'hi')
    },
  });
</script>